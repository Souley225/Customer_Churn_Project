schema: '2.0'
stages:
  download:
    cmd: poetry run python -m src.data.make_dataset
    deps:
    - path: src/data/make_dataset.py
      hash: md5
      md5: 7aba172973c1f9fb771c9782fbc5d22b
      size: 2047
    outs:
    - path: data/raw/WA_Fn-UseC_-Telco-Customer-Churn.csv
      hash: md5
      md5: 0f9de68e012bd3aed5fa7cdc9fc421af
      size: 977501
  split:
    cmd: "poetry run python -m src.data.split_dataset --csv_path data/raw/WA_Fn-UseC_-Telco-Customer-Churn.csv
      --test_size 0.2 --val_size 0.1 --random_state 42\n"
    deps:
    - path: data/raw/WA_Fn-UseC_-Telco-Customer-Churn.csv
      hash: md5
      md5: 0f9de68e012bd3aed5fa7cdc9fc421af
      size: 977501
    - path: src/data/split_dataset.py
      hash: md5
      md5: 2147b87e00334c5a753a7c3ec4939e16
      size: 1765
    outs:
    - path: data/interim/test.csv
      hash: md5
      md5: 9e66f0526220d50448059afb6e971466
      size: 196084
    - path: data/interim/train.csv
      hash: md5
      md5: d11a7d121389c2560948cbb216bede6e
      size: 705449
    - path: data/interim/val.csv
      hash: md5
      md5: 28115923b20097e88c5639a043de2810
      size: 77274
  features:
    cmd: poetry run python -m src.features.build_features
    deps:
    - path: data/interim/test.csv
      hash: md5
      md5: 9e66f0526220d50448059afb6e971466
      size: 196084
    - path: data/interim/train.csv
      hash: md5
      md5: d11a7d121389c2560948cbb216bede6e
      size: 705449
    - path: data/interim/val.csv
      hash: md5
      md5: 28115923b20097e88c5639a043de2810
      size: 77274
    - path: src/features/build_features.py
      hash: md5
      md5: bc712d1091f59e95f2c755e5809e3714
      size: 9081
    outs:
    - path: data/processed/X_test.npy
      hash: md5
      md5: 48822bfccf9a412e1e4f27d8656420f5
      size: 439736
    - path: data/processed/X_train.npy
      hash: md5
      md5: 81d1103496364341464a0c0ce2a73f25
      size: 1581968
    - path: data/processed/X_val.npy
      hash: md5
      md5: 227ea8b3db3bc7d50566c2b06c59be75
      size: 176096
    - path: data/processed/cleaner.joblib
      hash: md5
      md5: bf71fc7cb4e39c6035b3ff3a6c9e37c5
      size: 228
    - path: data/processed/preprocessor.joblib
      hash: md5
      md5: 61f161cc2d847f2105ba60ddc6f481e1
      size: 6821
    - path: data/processed/y_test.npy
      hash: md5
      md5: 228c8879c9c5a0612d039b1f2e75f12f
      size: 11400
    - path: data/processed/y_train.npy
      hash: md5
      md5: cff692a13d847284af3db70b6390f5ac
      size: 40688
    - path: data/processed/y_val.npy
      hash: md5
      md5: a040dfa3a9ffa707ebbc0e43c6711064
      size: 4640
  train:
    cmd: poetry run python -m src.models.train
    deps:
    - path: data/processed/X_train.npy
      hash: md5
      md5: 81d1103496364341464a0c0ce2a73f25
      size: 1581968
    - path: data/processed/X_val.npy
      hash: md5
      md5: 227ea8b3db3bc7d50566c2b06c59be75
      size: 176096
    - path: data/processed/y_train.npy
      hash: md5
      md5: cff692a13d847284af3db70b6390f5ac
      size: 40688
    - path: data/processed/y_val.npy
      hash: md5
      md5: a040dfa3a9ffa707ebbc0e43c6711064
      size: 4640
    - path: src/models/train.py
      hash: md5
      md5: 4fb1e6f1b17d0d6aa89cff48ba2e6aa8
      size: 7515
    outs:
    - path: artifacts
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: mlruns
      hash: md5
      md5: 5800e9411ac507708af03a44e5e0e228.dir
      size: 3520
      nfiles: 17
  evaluate:
    cmd: poetry run python -m src.models.evaluate
    deps:
    - path: data/processed/X_test.npy
      hash: md5
      md5: 48822bfccf9a412e1e4f27d8656420f5
      size: 439736
    - path: data/processed/y_test.npy
      hash: md5
      md5: 228c8879c9c5a0612d039b1f2e75f12f
      size: 11400
    - path: src/models/evaluate.py
      hash: md5
      md5: 7820a77e08b347487e527cd7bd982f27
      size: 1355
  register:
    cmd: poetry run python -m src.models.register
    deps:
    - path: src/models/register.py
      hash: md5
      md5: c3e14e0e4071b11838a062f70eeed6d4
      size: 857
